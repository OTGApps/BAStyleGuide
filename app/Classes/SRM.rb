class SRM

	# Colors extracted from http://methodbrewery.com/srm.php
	@@matrix = {
		"0.1" => [250, 250, 210],
		"0.2" => [250, 250, 204],
		"0.3" => [250, 250, 199],
		"0.4" => [250, 250, 193],
		"0.5" => [250, 250, 188],
		"0.6" => [250, 250, 182],
		"0.7" => [250, 250, 177],
		"0.8" => [250, 250, 171],
		"0.9" => [250, 250, 166],
		"1"   => [250, 250, 160],
		"1.1" => [250, 250, 155],
		"1.2" => [250, 250, 149],
		"1.3" => [250, 250, 144],
		"1.4" => [250, 250, 138],
		"1.5" => [250, 250, 133],
		"1.6" => [250, 250, 127],
		"1.7" => [250, 250, 122],
		"1.8" => [250, 250, 116],
		"1.9" => [250, 250, 111],
		"2"   => [250, 250, 105],
		"2.1" => [250, 250, 100],
		"2.2" => [250, 250, 94],
		"2.3" => [250, 250, 89],
		"2.4" => [250, 250, 83],
		"2.5" => [250, 250, 78],
		"2.6" => [249, 250, 72],
		"2.7" => [248, 249, 67],
		"2.8" => [247, 248, 61],
		"2.9" => [246, 247, 56],
		"3"   => [245, 246, 50],
		"3.1" => [244, 245, 45],
		"3.2" => [243, 244, 45],
		"3.3" => [242, 242, 45],
		"3.4" => [241, 240, 46],
		"3.5" => [240, 238, 46],
		"3.6" => [239, 236, 46],
		"3.7" => [238, 234, 46],
		"3.8" => [237, 232, 47],
		"3.9" => [236, 230, 47],
		"4"   => [235, 228, 47],
		"4.1" => [234, 226, 47],
		"4.2" => [233, 224, 48],
		"4.3" => [232, 222, 48],
		"4.4" => [231, 220, 48],
		"4.5" => [230, 218, 48],
		"4.6" => [229, 216, 49],
		"4.7" => [228, 214, 49],
		"4.8" => [227, 212, 49],
		"4.9" => [226, 210, 49],
		"5"   => [225, 208, 50],
		"5.1" => [224, 206, 50],
		"5.2" => [223, 204, 50],
		"5.3" => [222, 202, 50],
		"5.4" => [221, 200, 51],
		"5.5" => [220, 198, 51],
		"5.6" => [219, 196, 51],
		"5.7" => [218, 194, 51],
		"5.8" => [217, 192, 52],
		"5.9" => [216, 190, 52],
		"6"   => [215, 188, 52],
		"6.1" => [214, 186, 52],
		"6.2" => [213, 184, 53],
		"6.3" => [212, 182, 53],
		"6.4" => [211, 180, 53],
		"6.5" => [210, 178, 53],
		"6.6" => [209, 176, 54],
		"6.7" => [208, 174, 54],
		"6.8" => [207, 172, 54],
		"6.9" => [206, 170, 54],
		"7"   => [205, 168, 55],
		"7.1" => [204, 166, 55],
		"7.2" => [203, 164, 55],
		"7.3" => [202, 162, 55],
		"7.4" => [201, 160, 56],
		"7.5" => [200, 158, 56],
		"7.6" => [200, 156, 56],
		"7.7" => [199, 154, 56],
		"7.8" => [199, 152, 56],
		"7.9" => [198, 150, 56],
		"8"   => [198, 148, 56],
		"8.1" => [197, 146, 56],
		"8.2" => [197, 144, 56],
		"8.3" => [196, 142, 56],
		"8.4" => [196, 141, 56],
		"8.5" => [195, 140, 56],
		"8.6" => [195, 139, 56],
		"8.7" => [194, 139, 56],
		"8.8" => [194, 138, 56],
		"8.9" => [193, 137, 56],
		"9"   => [193, 136, 56],
		"9.1" => [192, 136, 56],
		"9.2" => [192, 135, 56],
		"9.3" => [192, 134, 56],
		"9.4" => [192, 133, 56],
		"9.5" => [192, 133, 56],
		"9.6" => [192, 132, 56],
		"9.7" => [192, 131, 56],
		"9.8" => [192, 130, 56],
		"9.9" => [192, 130, 56],
		"10"   => [192, 129, 56],
		"10.1" => [192, 128, 56],
		"10.2" => [192, 127, 56],
		"10.3" => [192, 127, 56],
		"10.4" => [192, 126, 56],
		"10.5" => [192, 125, 56],
		"10.6" => [192, 124, 56],
		"10.7" => [192, 124, 56],
		"10.8" => [192, 123, 56],
		"10.9" => [192, 122, 56],
		"11"   => [192, 121, 56],
		"11.1" => [192, 121, 56],
		"11.2" => [192, 120, 56],
		"11.3" => [192, 119, 56],
		"11.4" => [192, 118, 56],
		"11.5" => [192, 118, 56],
		"11.6" => [192, 117, 56],
		"11.7" => [192, 116, 56],
		"11.8" => [192, 115, 56],
		"11.9" => [192, 115, 56],
		"12"   => [192, 114, 56],
		"12.1" => [192, 113, 56],
		"12.2" => [192, 112, 56],
		"12.3" => [192, 112, 56],
		"12.4" => [192, 111, 56],
		"12.5" => [192, 110, 56],
		"12.6" => [192, 109, 56],
		"12.7" => [192, 109, 56],
		"12.8" => [192, 108, 56],
		"12.9" => [191, 107, 56],
		"13"   => [190, 106, 56],
		"13.1" => [189, 106, 56],
		"13.2" => [188, 105, 56],
		"13.3" => [187, 104, 56],
		"13.4" => [186, 103, 56],
		"13.5" => [185, 103, 56],
		"13.6" => [184, 102, 56],
		"13.7" => [183, 101, 56],
		"13.8" => [182, 100, 56],
		"13.9" => [181, 100, 56],
		"14"   => [180, 99, 56],
		"14.1" => [179, 98, 56],
		"14.2" => [178, 97, 56],
		"14.3" => [177, 97, 56],
		"14.4" => [175, 96, 55],
		"14.5" => [174, 95, 55],
		"14.6" => [172, 94, 55],
		"14.7" => [171, 94, 55],
		"14.8" => [169, 93, 54],
		"14.9" => [168, 92, 54],
		"15"   => [167, 91, 54],
		"15.1" => [165, 91, 54],
		"15.2" => [164, 90, 53],
		"15.3" => [162, 89, 53],
		"15.4" => [161, 88, 53],
		"15.5" => [159, 88, 53],
		"15.6" => [158, 87, 52],
		"15.7" => [157, 86, 52],
		"15.8" => [155, 85, 52],
		"15.9" => [154, 85, 52],
		"16"   => [152, 84, 51],
		"16.1" => [151, 83, 51],
		"16.2" => [149, 82, 51],
		"16.3" => [148, 82, 51],
		"16.4" => [147, 81, 50],
		"16.5" => [145, 80, 50],
		"16.6" => [144, 79, 50],
		"16.7" => [142, 78, 50],
		"16.8" => [141, 77, 49],
		"16.9" => [139, 76, 49],
		"17"   => [138, 75, 48],
		"17.1" => [137, 75, 47],
		"17.2" => [135, 74, 47],
		"17.3" => [134, 73, 46],
		"17.4" => [132, 72, 45],
		"17.5" => [131, 72, 45],
		"17.6" => [129, 71, 44],
		"17.7" => [128, 70, 43],
		"17.8" => [127, 69, 43],
		"17.9" => [125, 69, 42],
		"18"   => [124, 68, 41],
		"18.1" => [122, 67, 41],
		"18.2" => [121, 66, 40],
		"18.3" => [119, 66, 39],
		"18.4" => [118, 65, 39],
		"18.5" => [117, 64, 38],
		"18.6" => [115, 63, 37],
		"18.7" => [114, 63, 37],
		"18.8" => [112, 62, 36],
		"18.9" => [111, 61, 35],
		"19"   => [109, 60, 34],
		"19.1" => [108, 60, 33],
		"19.2" => [107, 59, 32],
		"19.3" => [105, 58, 31],
		"19.4" => [104, 57, 29],
		"19.5" => [102, 57, 28],
		"19.6" => [101, 56, 27],
		"19.7" => [99, 55, 26],
		"19.8" => [98, 54, 25],
		"19.9" => [97, 54, 24],
		"20"   => [95, 53, 23],
		"20.1" => [94, 52, 21],
		"20.2" => [92, 51, 20],
		"20.3" => [91, 51, 19],
		"20.4" => [89, 50, 18],
		"20.5" => [88, 49, 17],
		"20.6" => [87, 48, 16],
		"20.7" => [85, 48, 15],
		"20.8" => [84, 47, 13],
		"20.9" => [82, 46, 12],
		"21"   => [81, 45, 11],
		"21.1" => [79, 45, 10],
		"21.2" => [78, 44, 9],
		"21.3" => [77, 43, 8],
		"21.4" => [75, 42, 9],
		"21.5" => [74, 42, 9],
		"21.6" => [72, 41, 10],
		"21.7" => [71, 40, 10],
		"21.8" => [69, 39, 11],
		"21.9" => [68, 39, 11],
		"22"   => [67, 38, 12],
		"22.1" => [65, 37, 12],
		"22.2" => [64, 36, 13],
		"22.3" => [62, 36, 13],
		"22.4" => [61, 35, 14],
		"22.5" => [59, 34, 14],
		"22.6" => [58, 33, 15],
		"22.7" => [57, 33, 15],
		"22.8" => [55, 32, 16],
		"22.9" => [54, 31, 16],
		"23"   => [52, 30, 17],
		"23.1" => [51, 30, 17],
		"23.2" => [49, 29, 18],
		"23.3" => [48, 28, 18],
		"23.4" => [47, 27, 19],
		"23.5" => [45, 27, 19],
		"23.6" => [44, 26, 20],
		"23.7" => [42, 25, 20],
		"23.8" => [41, 24, 21],
		"23.9" => [39, 24, 21],
		"24"   => [38, 23, 22],
		"24.1" => [37, 22, 21],
		"24.2" => [37, 22, 21],
		"24.3" => [36, 22, 21],
		"24.4" => [36, 21, 20],
		"24.5" => [35, 21, 20],
		"24.6" => [35, 21, 20],
		"24.7" => [34, 20, 19],
		"24.8" => [34, 20, 19],
		"24.9" => [33, 20, 19],
		"25"   => [33, 19, 18],
		"25.1" => [32, 19, 18],
		"25.2" => [32, 19, 18],
		"25.3" => [31, 18, 17],
		"25.4" => [31, 18, 17],
		"25.5" => [30, 18, 17],
		"25.6" => [30, 17, 16],
		"25.7" => [29, 17, 16],
		"25.8" => [29, 17, 16],
		"25.9" => [28, 16, 15],
		"26"   => [28, 16, 15],
		"26.1" => [27, 16, 15],
		"26.2" => [27, 15, 14],
		"26.3" => [26, 15, 14],
		"26.4" => [26, 15, 14],
		"26.5" => [25, 14, 13],
		"26.6" => [25, 14, 13],
		"26.7" => [24, 14, 13],
		"26.8" => [24, 13, 12],
		"26.9" => [23, 13, 12],
		"27"   => [23, 13, 12],
		"27.1" => [22, 12, 11],
		"27.2" => [22, 12, 11],
		"27.3" => [21, 12, 11],
		"27.4" => [21, 11, 10],
		"27.5" => [20, 11, 10],
		"27.6" => [20, 11, 10],
		"27.7" => [19, 10, 9],
		"27.8" => [19, 10, 9],
		"27.9" => [18, 10, 9],
		"28"   => [18, 9, 8],
		"28.1" => [17, 9, 8],
		"28.2" => [17, 9, 8],
		"28.3" => [16, 8, 7],
		"28.4" => [16, 8, 7],
		"28.5" => [15, 8, 7],
		"28.6" => [15, 7, 6],
		"28.7" => [14, 7, 6],
		"28.8" => [14, 7, 6],
		"28.9" => [13, 6, 5],
		"29"   => [13, 6, 5],
		"29.1" => [12, 6, 5],
		"29.2" => [12, 5, 4],
		"29.3" => [11, 5, 4],
		"29.4" => [11, 5, 4],
		"29.5" => [10, 4, 3],
		"29.6" => [10, 4, 3],
		"29.7" => [9, 4, 3],
		"29.8" => [9, 3, 2],
		"29.9" => [8, 3, 2],
		"30"   => [8, 3, 2]
	}

	def self.color(value)
		UIColor.colorWithRed(@@matrix[value.to_s][0], green:@@matrix[value.to_s][1], blue:@@matrix[value.to_s][2], alpha:1)
	end

	def self.imageWithSRM(value, andSize:size)
		# size expects a CGSize
    color = SRM.color(value)

    rect = CGRectMake(0.0, 0.0, size.width, size.height)
    UIGraphicsBeginImageContext(rect.size)
    context = UIGraphicsGetCurrentContext()

    CGContextSetFillColorWithColor(context, color.CGColor)
    CGContextFillRect(context, rect)

    image = UIGraphicsGetImageFromCurrentImageContext()
    UIGraphicsEndImageContext()

    image
	end

end
